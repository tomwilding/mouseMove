//
//  ViewController.swift
//  mouseMove
//
//  Created by Tom Wilding on 05/07/2015.
//  Copyright (c) 2015 Tom Wilding. All rights reserved.
//

import Cocoa
import CoreGraphics

class ViewController: NSViewController {
    
    // Advertise the service
    let mouseService = MouseServiceManager()
    
    override func viewDidLoad() {
        super.viewDidLoad()
        mouseService.delegate = self

//        var vkx = Double(0)
//        var rkx = Double(0)
//        var akx = Double(0)
//        
//        var vky = Double(0)
//        var rky = Double(0)
//        var aky = Double(0)
//        
//        var startY = Double(500)
//        var startX = Double(500)
//        
//        var dt = 0.01
//        var length = min(xs.count, ys.count)
//        
//        for (var i = 0; i < length; i++) {
//            
//            // Update vel and pos for x
//            akx = xs[i]
//            vkx = vkx + (dt * akx)
//            rkx = rkx + (dt * vkx) * abs(akx / 100)
//
//            // Update vel and pos for y
//            aky = ys[i]
//            vky = vky + (dt * aky)
//            rky = rky + (dt * vky) * abs(aky / 100)
//            // Set pos
//            CGWarpMouseCursorPosition(NSMakePoint(CGFloat(startX + rkx), CGFloat(startY + rky)))
//            usleep(10000)
//        }
        // Do any additional setup after loading the view.
    }

    override var representedObject: AnyObject? {
        didSet {
        // Update the view, if already loaded.
        }
    }
    
    
    @IBAction func redTapped(sender : AnyObject) {
        println("RED TAPPED")
        mouseService.sendColor("red")
//        for x in xs {
//            print("\(x),")
//        }
//        println()
//        println()
//        println()
//        for y in ys {
//            print("\(y),")
//        }
    }
    
    var xs = [
        0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-538.386404514313,-534.017793834209,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1149.42356944084,928.907468914986,673.758164048195,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1199.66223835945,2474.89854693413,3194.64087486267,2822.00008630753,1744.53377723694,758.572891354561,0.0,-589.942969381809,-746.084973216057,-823.495164513588,-775.783434510231,0.0,0.0,861.448273062706,893.198549747467,678.399950265884,0.0,0.0,0.0,0.0,0.0,0.0,0.0,608.585998415947,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,761.126130819321,748.606249690056,589.342005550861,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-630.746111273766,-805.270969867706,-909.513905644417,-1052.54136025906,-1048.46015572548,-747.110769152641,-727.045461535454,-960.860326886177,-1176.04605853558,-1025.02688765526,-998.936742544174,-1066.51604175568,-1152.35485136509,-1288.06233406067,-1512.33553886414,-1593.2223200798,-1367.69458651543,-1039.68538343906,-916.654467582703,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,517.818294465542,564.252845942974,710.569694638252,945.502817630768,651.264190673828,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,967.039167881012,1232.1563065052,1174.77416992188,726.086273789406,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-501.943975687027,-592.979528009892,-574.770011007786,-580.464191734791,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-670.653879642487,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-605.090819299221,-687.009245157242,-710.040405392647,-649.781227111816,-701.04144513607,-603.508651256561,0.0,0.0,-523.494929075241,0.0,0.0,0.0,0.0,0.0,0.0,-1042.84949600697,-1621.31398916245,-1776.43209695816,-1213.28338980675,0.0,0.0,0.0,0.0,0.0,-682.681351900101,-1057.6244443655,-866.095721721649,-638.136193156242,0.0,0.0,0.0,0.0,-928.978845477104,-951.283648610115,-743.762329220772,-795.233026146889,-504.25685942173,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-513.664819300175,0.0,0.0,0.0,949.830785393715,1053.97403240204,1121.18981778622,1021.10601961613,845.816358923912,0.0,0.0,0.0,0.0,0.0,0.0,725.773945450783,531.964786350727,0.0,0.0,0.0,0.0,0.0,1109.15198922157,1804.30725216866,1809.77314710617,1630.44512271881,1153.01989018917,632.194727659225,0.0,0.0,0.0,0.0,834.050998091698,1036.81698441505,1256.68808817863,1342.06518530846,997.54773080349,792.203843593597,860.945358872414,660.061314702034,519.289970397949,590.045712888241,100,100,100,100,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,
        
    
        
        
    ]

    var ys = [
          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-1834.42354202271,-2814.06104564667,-1684.67938899994,0.0,0.0,0.0,0.0,-797.625407576561,-751.861184835434,-598.851442337036,0.0,-565.446652472019,-669.796392321587,-676.507279276848,-746.482983231544,-689.458623528481,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,636.11775636673,775.150656700134,616.392381489277,0.0,0.0,628.054440021515,812.096148729324,790.574699640274,585.073381662369,0.0,0.0,0.0,522.627979516983,757.595300674438,768.033787608147,731.437727808952,659.564360976219,618.912093341351,597.780980169773,641.165673732758,824.610963463783,980.125814676285,1011.95447146893,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-562.506839632988,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,577.487833797932,514.710880815983,0.0,0.0,-539.241097867489,-530.635267496109,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,905.306190252304,831.61823451519,681.69541656971,613.656565546989,0.0,0.0,812.097862362862,1069.4295167923,1177.29015648365,1053.04911732674,916.537716984749,0.0,0.0,-671.164840459824,-1087.19915151596,-1328.18967103958,-838.300511240959,0.0,632.800534367561,1616.16042256355,1739.80131745338,1086.37765049934,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,727.936923503876,816.210210323334,0.0,0.0,0.0,0.0,628.402158617973,1457.18529820442,1647.68889546394,539.238266646862,-753.547251224518,-588.249638676643,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,701.472982764244,1079.86122369766,1241.56899750233,1035.94563901424,0.0,-726.006254553795,-939.131751656532,-752.44128704071,-684.297308325768,-699.926093220711,-673.4699010849,0.0,0.0,-564.525797963142,-912.104547023773,-2114.55523967743,-831.946283578873,-638.976618647575,-1156.21611475945,-1551.51918530464,-1413.40702772141,-1447.07530736923,-1535.68401932716,-1216.85661375523,-772.253125905991,-635.531321167946,-860.604047775269,-958.464965224266,-1268.40323209763,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-515.162982046604,-631.628409028053,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,556.027702987194,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-544.184483587742,-639.138445258141,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,677.186623215675,852.813124656677,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,
    ]


}

extension ViewController : MouseServiceManagerDelegate {
    
    func connectedDevicesChanged(manager: MouseServiceManager, connectedDevices: [String]) {
        NSOperationQueue.mainQueue().addOperationWithBlock { () -> Void in
            
        }
    }
    
    func colorChanged(manager: MouseServiceManager, colorString: String) {
        NSOperationQueue.mainQueue().addOperationWithBlock { () -> Void in

        }
    }
    
}
